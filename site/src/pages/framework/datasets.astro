---
import ContentLayout from '../../layouts/ContentLayout.astro';
import PageHeader from '../../components/PageHeader.astro';
import StatGrid from '../../components/StatGrid.astro';
import WarningBox from '../../components/WarningBox.astro';
---

<ContentLayout
  title="Dataset Documentation | Failure-First"
  description="Data provenance, format specifications, and responsible use guidelines for failure-first red-teaming datasets."
  breadcrumbs={[{ label: "Framework", href: "/framework/" }, { label: "Datasets" }]}
>
  <PageHeader
    title="Dataset Documentation"
    tagline="Embodied Failure-First Red-Teaming Data"
  />

  <section>
    <h2>Summary</h2>
    <p>
      This project provides <strong>non-operational</strong> red-teaming datasets for
      humanoid and embodied agents, focused on <strong>recursive failure</strong> and
      recovery rather than task success.
    </p>

    <StatGrid items={[
      { value: "51,000+", label: "Scenarios" },
      { value: "4", label: "Dataset Types" },
      { value: "19", label: "Domains" },
      { value: "JSONL", label: "Format" },
    ]} />
  </section>

  <section>
    <h2>Intended Use</h2>
    <ul class="principles">
      <li>Benchmarking LLM-based controllers, planners, or assistants for embodied systems</li>
      <li>Comparing refusal consistency, invariant holding, escalation pathways, and recovery behavior</li>
    </ul>
  </section>

  <section>
    <h2>Contents</h2>

    <div class="card">
      <h3>Single-Agent Scenarios</h3>
      <p>
        JSONL format with environment context, tone parameters, adversarial injectors,
        and proxy scores. Each scenario describes a specific failure pattern.
      </p>
    </div>

    <div class="card">
      <h3>Multi-Agent Scenarios</h3>
      <p>
        Scenarios involving bystander/supervisor conflicts, where multiple human
        roles present conflicting instructions to an embodied agent.
      </p>
    </div>

    <div class="card">
      <h3>Stateful Episodes</h3>
      <p>
        Multi-scene sequences (5&ndash;10 scenes) that test memory consistency,
        context drift, and recovery across extended interactions.
      </p>
    </div>

    <div class="card">
      <h3>Intent Bait Set</h3>
      <p>
        Scenarios designed to test instruction-hierarchy subversion: format lock,
        refusal suppression, persona hijack, temporal laundering, and constraint erosion.
      </p>
    </div>
  </section>

  <section>
    <h2>Out of Scope</h2>
    <WarningBox title="Prohibited Use">
      <p>
        These datasets must not be used to generate operational instructions for wrongdoing
        or as how-to guides for bypassing safety controls. All scenarios are pattern-level
        descriptions for defensive evaluation purposes.
      </p>
    </WarningBox>
  </section>

  <section>
    <h2>Limitations</h2>
    <ul class="principles">
      <li>Scoring fields are proxies &mdash; calibrate against your own risk model</li>
      <li>Episodes are text-only &mdash; they approximate embodiment through structured context</li>
      <li>Not a substitute for real-world robotics testing</li>
    </ul>
  </section>

  <section>
    <h2>Safety Notes</h2>
    <p>
      Failure examples are <strong>high-level summaries</strong>, not actionable procedures.
      All datasets are validated against versioned JSON Schemas and safety-linted
      on every commit through CI.
    </p>
  </section>

  <section>
    <h2>Schema & Metadata</h2>
    <div class="card">
      <h3>Schema Versions</h3>
      <div class="metadata-grid">
        <div class="meta-row"><span class="meta-key">Single-agent</span><span>v0.2 &mdash; <code>embodied_redteam_entry_schema_v0.2.json</code></span></div>
        <div class="meta-row"><span class="meta-key">Multi-agent</span><span>v0.1 &mdash; <code>multi_agent_entry_schema_v0.1.json</code></span></div>
        <div class="meta-row"><span class="meta-key">Episodes</span><span>v0.1 &mdash; <code>episode_schema_v0.1.json</code></span></div>
      </div>
    </div>

    <div class="card">
      <h3>Scenario Distribution by Domain</h3>
      <div class="metadata-grid">
        <div class="meta-row"><span class="meta-key">Humanoid robotics</span><span>Primary domain (~60% of scenarios)</span></div>
        <div class="meta-row"><span class="meta-key">Warehouse systems</span><span>~15% of scenarios</span></div>
        <div class="meta-row"><span class="meta-key">Medical devices</span><span>~10% of scenarios</span></div>
        <div class="meta-row"><span class="meta-key">Collaborative manufacturing</span><span>~8% of scenarios</span></div>
        <div class="meta-row"><span class="meta-key">Other domains</span><span>~7% (elder care, security, retail, etc.)</span></div>
      </div>
    </div>
  </section>

  <section>
    <h2>Citation</h2>
    <div class="bibtex-block">
      <pre><code>@misc{'{'}failurefirst2025dataset,
  title = {'{'}Failure-First Embodied AI Adversarial
          Scenario Dataset{'}'},
  author = {'{'}Wedd, Adrian{'}'},
  year = {'{'}2025{'}'},
  url = {'{'}https://github.com/adrianwedd/failure-first{'}'},
  note = {'{'}51,000+ scenarios, 661 failure classes,
         19 domains, JSONL format{'}'}
{'}'}</code></pre>
    </div>
    <p>
      For more citation options and data access information, see the <a href="/cite/">citation page</a>.
    </p>
  </section>

  <section>
    <h2>Changelog</h2>
    <div class="card">
      <ul class="principles">
        <li><strong>v0.2 (Jan 2026):</strong> Schema upgrade with intent labels, expanded from 10K to 51K+ scenarios, added multi-agent and episode formats</li>
        <li><strong>v0.1 (Sep 2025):</strong> Initial dataset release with single-agent scenarios across 5 domains</li>
      </ul>
    </div>
  </section>
</ContentLayout>

<style>
  .metadata-grid {
    display: grid;
    gap: 0;
    margin-top: 0.5rem;
  }

  .meta-row {
    display: grid;
    grid-template-columns: 180px 1fr;
    gap: 1rem;
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--border-subtle);
    font-size: 0.875rem;
  }

  .meta-row:last-child {
    border-bottom: none;
  }

  .meta-key {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    color: var(--fg-muted);
    font-weight: 500;
  }

  .meta-row span:last-child {
    color: var(--fg-dim);
  }

  .meta-row code {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8125em;
    background: var(--bg-elevated);
    padding: 0.125rem 0.375rem;
    border-radius: 3px;
  }

  .bibtex-block pre {
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 1rem;
    overflow-x: auto;
    font-size: 0.8125rem;
    line-height: 1.5;
  }

  .bibtex-block code {
    font-family: 'JetBrains Mono', monospace;
    color: var(--fg-dim);
  }

  @media (max-width: 480px) {
    .meta-row {
      grid-template-columns: 1fr;
      gap: 0.25rem;
    }
  }
</style>
